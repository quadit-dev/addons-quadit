<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<template id="template_stock_report">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <div class="page">
                <table class="table table-condensed" style="text-align:center;font-size:9px">
                    <tr>
                        <td width="30%" align="center" valign="middle" style="border: 1px solid white;">
                            <img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % to_text(o.company_id.logo)" style="max-height: 90px;height: auto;"/>
                        </td>
                        <td colspan="2" width="40%" align="center" valign="top" style="border: 1px solid white;">
                            <h1><span>Inventario</span></h1>
                        </td>
                        <td colspan="2" width="40%" align="center" valign="top" style="border: 1px solid white;">
                            <h1><span t-field="o.partner_id.name"/></h1>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="row">
                <table class="table" style="text-align:center;">
                    <tr style="border: 1px solid gray;">
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Empresa:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.partner_id.name"/></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Fecha prevista:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.scheduled_date"/></td>
                    </tr>
                    <tr style="border: 1px solid gray;">
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Tipo de operacion:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.picking_type_id.name"/></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Fecha efectiva:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.date_done"/></td>
                    </tr>
                    <tr style="border: 1px solid gray;">
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Documento origen:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.origin"/></td>
                    </tr>
                </table>
            </div>
                <table class="table table-condensed" style="text-align:center;border: 1px solid gray;">
                    <td style="width:33%;border-collapse: collapse;">
                    <thead>
                        <tr style="border: 1px solid gray;">
                            <th style="text-align:center;">Producto</th>
                            <th style="text-align:center">Demanda inicial</th>
                            <th style="text-align:center">Hecho</th>
                        </tr>
                    </thead>
                    <tbody class="invoice_tbody" style="width:33%;border-collapse: collapse;">
                        <tr style="border: 1px solid gray;" t-foreach="o.move_ids_without_package" t-as="l">
                            <td class="text-right">
                                <span t-field="l.product_id.name"/>
                            </td>
                            <td class="text-right">
                                <span t-field="l.product_uom_qty"/>
                            </td>
                            <td class="text-right">
                                <span t-field="l.quantity_done"/>
                            </td>
                        </tr>
                    </tbody>
                    </td>
                </table>
            <div class="row">
                <table class="table" style="text-align:center;">
                    <tr style="border: 1px solid gray;">
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Politica de entrega:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.move_type"/></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><strong>Prioridad:</strong></td>
                        <td style="width:20%;padding:2px;padding-right: 9px;"><span t-field="o.priority"/></td>
                    </tr>
                </table>
            </div>
        </t>
    </t>
</template>


        <report
            id = "report_stock_picking_delivery"
            string = "Inventario"
            model = "stock.picking"
            report_type = "qweb-pdf"
            file = "report_stock_picking.template_stock_report"
            name = "report_stock_picking.template_stock_report"/>

        <record id="report_stock_picking.report_stock_picking_delivery" model="ir.actions.report">
            <field name="paperformat_id" ref="base.paperformat_us" />
        </record>

    </data>
</openerp>
